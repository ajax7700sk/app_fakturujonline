<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="images/favicon.png" rel="icon"/>
    <title>Faktura</title>
    <meta name="author" content="harnishdesign.net">
    <style>
        body {
            font-family: DejaVu Sans, sans-serif;
        }
    </style>

    <!-- Web Fonts
    ======================= -->
    <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900'
          type='text/css'>

    <!-- Stylesheet
    ======================= -->
    {*Bootstrap*}
{*    {include "_partials/pdf/bootstrap.min.latte"}*}
    {*include "_partials/pdf/font-awesome.latte"*}
    {include "_partials/pdf/style.latte"}
</head>
<body>
<div style="padding: 15px 40px">
    <!-- Container -->
    <div class="container-fluid invoice-container">
        <!-- Header -->
        <table class="w-100">
            <tr>
                <td class="row align-items-center w-50">
                    <div class="col-sm-7 text-center text-sm-start mb-3 mb-sm-0">
                        <img id="logo" src="https://harnishdesign.net/demo/html/koice/images/logo.png" title="Koice" alt="Koice"/>
                    </div>
                </td>
                <td class="w-50">
                    <div class="col-sm-5 text-right text-sm-end test-class">
                        <h4 class="mb-0">Doklad</h4>
                        <p class="mb-0">Cislo - {$taxDocument->getNumber()}</p>
                    </div>
                </td>
            </tr>
        </table>
        <hr>
        <!-- Main Content -->
        <main>
            <table class="row w-100">
                <tr>
                    <td class="w-50">
                        <div class="col-sm-6 order-sm-0"> <strong>Odberateľ:</strong>
                            <address>
                                {$taxDocument->getSubscriberBillingAddress()->getName()} <br/>
                        {$taxDocument->getSubscriberBillingAddress()->getEmail()} <br/>
                        {$taxDocument->getSubscriberBillingAddress()->getStreet()} <br/>
                        {$taxDocument->getSubscriberBillingAddress()->getZipCode()} {$taxDocument->getSubscriberBillingAddress()->getCity()}
                                <br/>
                            </address>
                        </div>
                    </td>
                    <td class="w-50 text-right">
                        <div class="col-sm-6 text-sm-end order-sm-1"> <strong>Dodávateľ:</strong>
                            <address>
                                {$taxDocument->getSupplierBillingAddress()->getName()} <br/>
                        {$taxDocument->getSupplierBillingAddress()->getEmail()} <br/>
                        {$taxDocument->getSupplierBillingAddress()->getStreet()} <br/>
                        {$taxDocument->getSupplierBillingAddress()->getZipCode()} {$taxDocument->getSupplierBillingAddress()->getCity()} <br/>
                        {if $taxDocument->getVatPayer()}
                                    <strong>Platiteľ DPH</strong>
                                {else}
                                    <strong>Neplatitel DPH</strong>
                                {/if}
                                <br/>
                            </address>
                        </div>
                        <div class="col-sm-6 text-end" style="margin-top: 10px;">
                            <p class="mb-0" style="margin: 0; line-height: 1;">
                                <strong>Vystavené: </strong>{$taxDocument->getIssuedAt()|date("d.m.Y")}
                            </p>
                            <p class="mb-0" style="margin: 0; line-height: 1;">
                                <strong>Splatnosť:&nbsp;&nbsp;&nbsp;</strong>{$taxDocument->getDueDateAt()|date("d.m.Y")}
                            </p>
                        </div>
                    </td>
                </tr>
            </table>
            <div class="row">
                <div class="col-sm-12"> <strong>Forma úhrady: </strong><br>
                    <span>{$taxDocument->getPaymentData()->getType()|transPaymentMethod} </span> <br />
                    {if $taxDocument->getPaymentData()->getType() == 'paypal'}
                        <address class="bank-account">
                            PayPal e-mail: {$taxDocument->getPaymentData()->getPaypalMail()}<br>
                        </address>
                    {else}
                        <address class="bank-account">
                            Cislo uctu: {$taxDocument->getPaymentData()->getBankAccountNumber()}<br>
                            IBAN: {$taxDocument->getPaymentData()->getBankAccountIban()}<br>
                            SWIFT: {$taxDocument->getPaymentData()->getBankAccountSwift()}<br>
{*                            Variabilný symbol: {$taxDocument->getVariableSymbol()}*}
                    </address>
                    {/if}
                    <br />
                </div>
            </div>
            {if $taxDocument->getNoteAboveItems()}
                <div class="row">
                    <div class="col-sm-6 mb-30">
                        <p class="text-1"><strong>Poznámka nad položkami: </strong>{$taxDocument->getNoteAboveItems()}</p>
                    </div>
                </div>
            {/if}
            <div class="card">
                <div class="card-body p-0">
                    <div class="table-responsive">
                        <table class="table mb-0 w-100">
                            <thead>
                            <tr class="">
                                <td><strong>Položka</strong></td>
                                <td><strong>Jednotkova cena</strong></td>
                                <td><strong>Jednotka</strong></td>
                                <td><strong>Mnozstvo</strong></td>
                                {if $taxDocument->getVatPayer()}
                                    <td class="text-end"><strong>DPH</strong></td>
                                {/if}
                                <td class="text-end"><strong>Celkovo</strong></td>
                            </tr>
                            </thead>
                            <tbody>
                            {foreach $taxDocument->getLineItems() as $lineItem}
                                <tr>
                                    <td>
                                        <div class="item-desc-1">
                                            <span>{$lineItem->getName()}</span>
                                        </div>
                                    </td>
                                    <td>{$lineItem->getUnitPriceTaxExcl()|moneyFormat($currencyCode, $localeCode)}</td>
                                    <td>{$lineItem->getUnit()}</td>
                                    <td>{$lineItem->getQuantity()}</td>
                                    {if $taxDocument->getVatPayer()}
                                        <td class="text-end">{$lineItem->getTotalTax()|moneyFormat($currencyCode, $localeCode)}</td>
                                    {/if}
                                    <td class="text-end">{$lineItem->getTotalPriceTaxExcl()|moneyFormat($currencyCode, $localeCode)}</td>
                                </tr>
                            {/foreach}
                            </tbody>
                            <tfoot class="card-footer">
                            {php $colspan = 4}
                            {if $taxDocument->getVatPayer()}
                                {php $colspan = 5}
                            {/if}
                            <tr>
                                    <td colspan="{$colspan}" class="text-end text-right pr-15"><strong>Medzisucet:</strong></td>
                                    <td class="text-end">{$taxDocument->getTotalPriceTaxExcl()|moneyFormat($currencyCode, $localeCode)}</td>
                            </tr>
                            {if $taxDocument->getVatPayer()}
                                <tr>
                                    <td colspan="{$colspan}" class="text-end text-right pr-15"><strong>DPH:</strong></td>
                                    <td class="text-end">{$taxDocument->getTotalTax()|moneyFormat($currencyCode, $localeCode)}</td>
                                </tr>
                            {/if}
                            <tr>
                                <td colspan="{$colspan}" class="text-end text-right pr-15"><strong>Celkovo:</strong></td>
                                <td class="text-end">{$taxDocument->getTotalPriceTaxIncl()|moneyFormat($currencyCode, $localeCode)}</td>
                            </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
            <br>
        </main>
        <div>
            {if $taxDocument->getType() == 'proforma_invoice'}
                Proforma faktúra neslúži ako daňový doklad
            {/if}
        </div>
        <div>
            {if $taxDocument->getTransferedTaxLiability()}
                Daň je povinný zaplatiť zákazník.
            {/if}
        </div>
        {if $taxDocument->getUserCompany() && $taxDocument->getUserCompany()->getRegisterInfo()}
            <p class="text-1">{$taxDocument->getUserCompany()->getRegisterInfo()}</p>
        {/if}
        <!-- Footer -->
        <footer class="text-center footer">
            {if $taxDocument->getNote()}
                <p class="text-1"><strong>Poznámka:</strong> {$taxDocument->getNote()}</p>
            {/if}
        </footer>
        <table class="copyright row w-100" style="margin-top: -15px;">
            <tr>
                <td class="w-50">
                    <div class="col-6">
                        {if $taxDocument->getIssuedBy()}
                            <p class="text-left">Vystavil: {$taxDocument->getIssuedBy()}</p>
                        {/if}
                    </div>
                </td>
                <td class="w-50">
                    <div class="col-6">
                        <p class="text-right">Vytvorené v systéme fakturyonline.sk</p>
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>
</body>
</html>